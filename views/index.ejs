<%- include('partials/header') %>

<% if (messages && messages.success && messages.success.length > 0) { %>
  <div class="alert alert-success alert-dismissible fade show" role="alert">
      <%= messages.success %>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
<% } %>
<% if (messages && messages.error && messages.error.length > 0) { %>
  <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <%= messages.error %>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
<% } %>


<div class="row">
  <% books.forEach(book => { %>
    <div class="col-md-4 col-lg-3 mb-4">
      <div class="card h-100">
        <img src="images/<%= book.cover %>" class="card-img-top" alt="Portada del libro">
        <div class="card-body">
          <h5 class="card-title"><%= book.title %></h5>
          <p class="card-text">Autor: <%= book.author %></p>
          <p class="card-text">AÃ±o: <%= book.year %> | $<%= book.price %></p>
        </div>
        <div class="card-footer d-flex justify-content-between">
          <a href="/books/edit/<%= book.id %>" class="btn btn-sm btn-secondary">Editar</a>
          <form action="/books/delete/<%= book.id %>" method="POST" class="d-inline">
            <button type="submit" class="btn btn-sm btn-danger">Eliminar</button>
          </form>
        </div>
      </div>
    </div>
  <% }); %>
</div>
<%- include('partials/footer') %>